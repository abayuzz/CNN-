"""
æ‚¨é€‰ä¸­ä»£ç çš„å¯è§†åŒ–è§£é‡Š
ç”¨ASCIIå›¾è¡¨æ¥ç›´è§‚å±•ç¤ºæ—¶é—´å¹³æ»‘ç®—æ³•çš„å·¥ä½œåŸç†
"""

def draw_prediction_flow():
    """
    ç»˜åˆ¶é¢„æµ‹æµç¨‹å›¾
    """
    print("ğŸ¯ æ‚¨é€‰ä¸­ä»£ç çš„å·¥ä½œæµç¨‹å›¾")
    print("=" * 60)
    print()
    print("æ‘„åƒå¤´ç”»é¢ â†’ é¢„å¤„ç† â†’ CNNæ¨¡å‹ â†’ æ¦‚ç‡åˆ†å¸ƒ â†’ å†å²è®°å½•")
    print("     â†“           â†“        â†“         â†“         â†“")
    print("  [å›¾åƒ]    [å¼ é‡]   [åˆ†æ•°]   [æ¦‚ç‡]   [ä¿å­˜]")
    print()
    print("è¯¦ç»†æµç¨‹ï¼š")
    print()
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ æ‘„åƒå¤´ç”»é¢  â”‚ â† æ‚¨çœ‹åˆ°çš„å®æ—¶è§†é¢‘")
    print("â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜")
    print("      â”‚")
    print("      â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ é¢„å¤„ç†å›¾åƒ  â”‚ â† input_tensor = self.preprocess_frame(frame)")
    print("â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜")
    print("      â”‚")
    print("      â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ CNNæ¨¡å‹æ¨ç† â”‚ â† outputs = self.model(input_tensor)")
    print("â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜")
    print("      â”‚")
    print("      â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ Softmaxè½¬æ¢ â”‚ â† probabilities = torch.softmax(outputs, dim=1)")
    print("â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜")
    print("      â”‚")
    print("      â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ æå–æœ€å¤§å€¼  â”‚ â† confidence, predicted = torch.max(...)")
    print("â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜")
    print("      â”‚")
    print("      â–¼")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ ä¿å­˜åˆ°å†å²  â”‚ â† self.prediction_history.append(...)")
    print("â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜")

def draw_history_management():
    """
    ç»˜åˆ¶å†å²è®°å½•ç®¡ç†
    """
    print("\nğŸ“š å†å²è®°å½•ç®¡ç†å¯è§†åŒ–")
    print("=" * 60)
    
    print("å†å²è®°å½•å°±åƒä¸€ä¸ªæ»‘åŠ¨çª—å£ï¼š")
    print()
    print("å¸§åºå·:  1    2    3    4    5    6    7    8    9")
    print("        â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”")
    print("çª—å£:   â”‚ ğŸŸ© â”‚ ğŸŸ© â”‚ âŒ â”‚ ğŸŸ© â”‚ ğŸŸ© â”‚ ğŸŸ© â”‚ ğŸŸ© â”‚")
    print("        â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜")
    print("                             â†‘")
    print("                        æœ€å¤šä¿å­˜7å¸§")
    print()
    print("ç¬¬8å¸§åˆ°æ¥æ—¶ï¼š")
    print("        â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”")
    print("æ–°çª—å£: â”‚ ğŸŸ© â”‚ âŒ â”‚ ğŸŸ© â”‚ ğŸŸ© â”‚ ğŸŸ© â”‚ ğŸŸ© â”‚ ğŸ†• â”‚")
    print("        â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜")
    print("          â†‘                               â†‘")
    print("      ç§»é™¤æœ€æ—©                        æ·»åŠ æœ€æ–°")
    print()
    print("å›¾ä¾‹ï¼šğŸŸ©=æ­£ç¡®é¢„æµ‹  âŒ=é”™è¯¯é¢„æµ‹  ğŸ†•=æ–°å¸§")

def draw_smoothing_calculation():
    """
    ç»˜åˆ¶å¹³æ»‘è®¡ç®—è¿‡ç¨‹
    """
    print("\nğŸ§® æ—¶é—´å¹³æ»‘è®¡ç®—å¯è§†åŒ–")
    print("=" * 60)
    
    print("å‡è®¾å†å²è®°å½•æœ‰5å¸§æ•°æ®ï¼š")
    print()
    print("å¸§å·    é¢„æµ‹ç»“æœ    æ¦‚ç‡åˆ†å¸ƒ              æƒé‡")
    print("â”€" * 55)
    print("ç¬¬1å¸§   Rock        [0.85, 0.10, 0.05]   0.10")
    print("ç¬¬2å¸§   Rock        [0.82, 0.12, 0.06]   0.15") 
    print("ç¬¬3å¸§   Scissors    [0.15, 0.72, 0.13]   0.20  â† è¯¯è¯†åˆ«")
    print("ç¬¬4å¸§   Rock        [0.91, 0.05, 0.04]   0.25")
    print("ç¬¬5å¸§   Rock        [0.89, 0.06, 0.05]   0.30  â† æœ€æ–°å¸§")
    print()
    print("åŠ æƒå¹³å‡è®¡ç®—ï¼š")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚ Rock = 0.85Ã—0.10 + 0.82Ã—0.15 + 0.15Ã—0.20 +     â”‚")
    print("â”‚        0.91Ã—0.25 + 0.89Ã—0.30 = 0.758           â”‚")
    print("â”‚                                                 â”‚")
    print("â”‚ Scissors = 0.10Ã—0.10 + 0.12Ã—0.15 + 0.72Ã—0.20 + â”‚")
    print("â”‚            0.05Ã—0.25 + 0.06Ã—0.30 = 0.194       â”‚")
    print("â”‚                                                 â”‚")
    print("â”‚ Paper = 0.05Ã—0.10 + 0.06Ã—0.15 + 0.13Ã—0.20 +    â”‚")
    print("â”‚         0.04Ã—0.25 + 0.05Ã—0.30 = 0.048          â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜")
    print()
    print("æœ€ç»ˆç»“æœï¼šRock (75.8%) > Scissors (19.4%) > Paper (4.8%)")
    print("âœ¨ æˆåŠŸè¿‡æ»¤äº†ç¬¬3å¸§çš„è¯¯è¯†åˆ«ï¼")

def draw_comparison():
    """
    ç»˜åˆ¶æœ‰æ— å¹³æ»‘çš„å¯¹æ¯”
    """
    print("\nğŸ“Š æ•ˆæœå¯¹æ¯”å¯è§†åŒ–")
    print("=" * 60)
    
    print("æ—¶é—´è½´ï¼ˆ10å¸§ï¼‰ï¼š")
    print("å¸§å·: 1  2  3  4  5  6  7  8  9  10")
    print()
    print("å•å¸§é¢„æµ‹ï¼š")
    print("ç»“æœ: ğŸŸ© âŒ ğŸŸ© ğŸŸ© âŒ ğŸŸ© ğŸŸ© ğŸŸ© âŒ ğŸŸ©")
    print("      â†‘  â†‘     â†‘           â†‘")
    print("      çŸ³ å‰ª     å¸ƒ           å‰ª")
    print("      å¤´ åˆ€     (è¯¯)         åˆ€")
    print("         (è¯¯)               (è¯¯)")
    print()
    print("æ—¶é—´å¹³æ»‘åï¼š")
    print("ç»“æœ: ğŸŸ© ğŸŸ© ğŸŸ© ğŸŸ© ğŸŸ© ğŸŸ© ğŸŸ© ğŸŸ© ğŸŸ© ğŸŸ©")
    print("      â†‘  â†‘     â†‘           â†‘")
    print("      çŸ³ çŸ³     çŸ³           çŸ³")
    print("      å¤´ å¤´     å¤´           å¤´")
    print("      (ç¨³å®šé¢„æµ‹)")
    print()
    print("ç”¨æˆ·ä½“éªŒï¼š")
    print("å•å¸§ï¼šç•Œé¢è·³åŠ¨ ğŸ˜µâ€ğŸ’«")
    print("å¹³æ»‘ï¼šç¨³å®šæµç•… ğŸ˜Š")

def explain_key_concepts():
    """
    è§£é‡Šå…³é”®æ¦‚å¿µ
    """
    print("\nğŸ’¡ å…³é”®æ¦‚å¿µè§£é‡Š")
    print("=" * 60)
    
    print("ğŸ”¹ torch.no_grad():")
    print("   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("   â”‚ å°±åƒå‘Šè¯‰AIï¼š'åªé¢„æµ‹ï¼Œåˆ«å­¦ä¹ '  â”‚")
    print("   â”‚ èŠ‚çœå†…å­˜å’Œè®¡ç®—èµ„æº             â”‚")
    print("   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜")
    print()
    
    print("ğŸ”¹ torch.softmax():")
    print("   åŸå§‹åˆ†æ•°: [2.1, -0.5, 1.3]")
    print("            â†“  è½¬æ¢  â†“")
    print("   æ¦‚ç‡åˆ†å¸ƒ: [72%, 5%, 23%]")
    print("   (æ‰€æœ‰æ¦‚ç‡åŠ èµ·æ¥ = 100%)")
    print()
    
    print("ğŸ”¹ torch.max():")
    print("   æ¦‚ç‡: [72%, 5%, 23%]")
    print("        â†“  æ‰¾æœ€å¤§  â†“")
    print("   ç»“æœ: 72% (ç´¢å¼•0 = Rock)")
    print()
    
    print("ğŸ”¹ .item():")
    print("   PyTorchå¼ é‡: tensor([0.72])")
    print("              â†“  æå–  â†“")
    print("   Pythonæ•°å­—: 0.72")
    print()
    
    print("ğŸ”¹ prediction_history.append():")
    print("   æ–°é¢„æµ‹ â†’ [å†å²1, å†å²2, ..., æ–°é¢„æµ‹]")
    print("   ä¿å­˜å®Œæ•´ä¿¡æ¯ç”¨äºåç»­å¹³æ»‘è®¡ç®—")

def explain_why_important():
    """
    è§£é‡Šä¸ºä»€ä¹ˆé‡è¦
    """
    print("\nğŸ¯ ä¸ºä»€ä¹ˆè¿™æ®µä»£ç å¦‚æ­¤é‡è¦ï¼Ÿ")
    print("=" * 60)
    
    print("ğŸ—ï¸ å»ºç­‘æ¯”å–»ï¼š")
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚  å¦‚æœæ•´ä¸ªç³»ç»Ÿæ˜¯ä¸€åº§å¤§æ¥¼ï¼š           â”‚")
    print("â”‚                                     â”‚")
    print("â”‚  ğŸ  ç”¨æˆ·ç•Œé¢ â† æ‚¨çœ‹åˆ°çš„            â”‚")
    print("â”‚  ğŸ§® æ—¶é—´å¹³æ»‘ â† è®©ç•Œé¢ç¨³å®š          â”‚")
    print("â”‚  ğŸ“Š è¿™æ®µä»£ç  â† æ”¶é›†æ•°æ®çš„åœ°åŸº      â”‚")
    print("â”‚  ğŸ¤– CNNæ¨¡å‹  â† AIå¤§è„‘               â”‚")
    print("â”‚                                     â”‚")
    print("â”‚  æ²¡æœ‰åœ°åŸºï¼Œå¤§æ¥¼ä¼šå€’å¡Œï¼             â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜")
    print()
    
    print("ğŸ”§ æŠ€æœ¯ä»·å€¼ï¼š")
    print("â€¢ æ•°æ®æ”¶é›†ï¼šä¸ºç®—æ³•æä¾›åŸææ–™")
    print("â€¢ ç»“æ„ç®¡ç†ï¼šç»´æŠ¤åˆç†çš„æ•°æ®ç»“æ„")  
    print("â€¢ æ€§èƒ½ä¼˜åŒ–ï¼šno_grad() èŠ‚çœèµ„æº")
    print("â€¢ å®¹é”™è®¾è®¡ï¼šä¸ºåç»­å®¹é”™åšå‡†å¤‡")
    print()
    
    print("ğŸ’¼ å·¥ç¨‹ä»·å€¼ï¼š")
    print("â€¢ å®ç”¨æ€§ï¼šä»å®éªŒå®¤åˆ°äº§å“çš„å…³é”®ä¸€æ­¥")
    print("â€¢ ç”¨æˆ·ä½“éªŒï¼šæµç•…ç¨³å®šçš„äº¤äº’")
    print("â€¢ å¯ç»´æŠ¤æ€§ï¼šæ¸…æ™°çš„æ•°æ®æµè®¾è®¡")
    print("â€¢ æ‰©å±•æ€§ï¼šä¸ºæœªæ¥åŠŸèƒ½ç•™ä¸‹æ¥å£")

def main():
    """
    ä¸»å‡½æ•°
    """
    print("ğŸ¨ æ‚¨é€‰ä¸­ä»£ç çš„å¯è§†åŒ–è¯¦è§£")
    print("=" * 60)
    print("ç”¨å›¾è¡¨å’Œæ¯”å–»æ¥ç†è§£ predict_with_smoothing çš„æ ¸å¿ƒéƒ¨åˆ†")
    print("=" * 60)
    
    draw_prediction_flow()
    draw_history_management()
    draw_smoothing_calculation()
    draw_comparison()
    explain_key_concepts()
    explain_why_important()
    
    print("\nğŸ“ å­¦ä¹ æ€»ç»“")
    print("=" * 60)
    print("é€šè¿‡å¯è§†åŒ–ï¼Œæ‚¨åº”è¯¥å·²ç»ç†è§£äº†ï¼š")
    print()
    print("âœ… è¿™æ®µä»£ç åœ¨æ•´ä¸ªç³»ç»Ÿä¸­çš„ä½ç½®å’Œä½œç”¨")
    print("âœ… æ¯è¡Œä»£ç å…·ä½“åšäº†ä»€ä¹ˆäº‹æƒ…")
    print("âœ… ä¸ºä»€ä¹ˆéœ€è¦ä¿å­˜å†å²è®°å½•")
    print("âœ… æ•°æ®æ˜¯å¦‚ä½•æµåŠ¨å’Œç®¡ç†çš„")
    print("âœ… è¿™æ®µçœ‹ä¼¼ç®€å•çš„ä»£ç ä¸ºä»€ä¹ˆå¦‚æ­¤é‡è¦")
    print()
    print("ğŸš€ ç°åœ¨æ‚¨å¯ä»¥è‡ªä¿¡åœ°è¯´ï¼š")
    print("   'æˆ‘ç†è§£äº†æ—¶é—´å¹³æ»‘ç®—æ³•çš„æ•°æ®æ”¶é›†éƒ¨åˆ†ï¼'")

if __name__ == "__main__":
    main()
